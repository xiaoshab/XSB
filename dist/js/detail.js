"use strict";require(["config"],function(){require(["jquery","template","cookie","zoom","fly","load"],function(t,i,e,o,d){t.cookie.json=!0;var r=t.cookie("id");t.getJSON("/mock/list.json",function(i){var e=i.res_body.data,o=[],d=0;t.each(e,function(t,i){o.push(""+i.id)}),d=t.inArray(r,o);var c={products:i.res_body.data},a=[];a.push(c.products[d]);var n="";t.each(a,function(i,e){n='<div class="box">\n\t\t\t\t\t<div class="id" style="display:none">'+e.id+'</div>\n\t\t\t\t\t<img id="img" src="'+e.img+'"  data-zoom-image="'+e.imag+'">\n\t\t\t\t\t<div class="price">'+e.price+'</div>\n\t\t\t\t\t<div class="title">'+e.title+'</div>\n\t\t\t\t\t<div class="add">加入购物车</div>\n\t\t\t\t</div>',t(".detail_box").html(n)}),t("#img").elevateZoom({lensColour:"#fede4f",cursor:"move",borderSize:"1",borderColour:"#dddddd"}),t(".detail_box").delegate(".add","click",function(i){var e=t(this).parent(),o={id:e.children(".id").text(),title:e.children(".title").text(),price:e.children(".price").text(),amount:1,img:e.children("#img").attr("src")},d=t.cookie("products")||[],r=function(i,e){var o=-1;return t.each(e,function(t,e){if(e.id==i)return o=t,!1}),o}(o.id,d);-1===r?d.push(o):d[r].amount++,t.cookie("products",d,{expires:7,path:"/"});t('<img src="'+e.children("#img").attr("src")+'">').fly({start:{left:i.pageX,top:i.pageY},end:{left:t("#car").offset().left,top:t("#car").offset().top,width:0,height:0}})})})})});